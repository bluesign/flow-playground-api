scalar UUID
scalar Address

type Project {
  id: UUID!
  accounts: [Account!]
  transactionTemplates: [TransactionTemplate!]
  transactionExecutions: [TransactionExecution!]
  scriptTemplates: [TransactionTemplate!]
  scriptExecutions: [TransactionExecution!]
}

type Account {
  id: UUID!
  address: Address!
  draftCode: String!
  deployedCode: String!
}

type TransactionTemplate {
  id: UUID!
  index: Int!
  script: String!
}

type TransactionExecution {
  id: UUID!
  template: TransactionTemplate!
  payerAccount: Account!
  signerAccounts: [Account!]!
}

type ScriptTemplate {
  id: UUID!
  script: String!
}

type ScriptExecution {
  id: UUID!
  template: ScriptTemplate!
}

type Query {
  project(id: UUID!): Project!

  transactionTemplate(id: UUID!): TransactionTemplate!
}

input NewTransactionTemplate {
  projectId: UUID!
  script: String!
}

input UpdateTransactionTemplate {
  id: UUID!
  index: Int
  script: String
}

input NewTransactionExecution {
  templateId: UUID!
  payer: String!
  signers: [String]!
}

input NewScriptTemplate {
  projectId: UUID!
  script: String!
}

input UpdateScriptTemplate {
  id: UUID!
  script: String!
}

input NewScriptExecution {
  templateId: String!
}

type Mutation {
  createProject: Project!

  createTransactionTemplate(input: NewTransactionTemplate!): TransactionTemplate!
  updateTransactionTemplate(input: UpdateTransactionTemplate!): TransactionTemplate!
  createTransactionExecution(input: NewTransactionExecution!): TransactionExecution!

  createScriptTemplate(input: NewScriptTemplate!): ScriptTemplate!
  updateScriptTemplate(input: UpdateScriptTemplate!): ScriptTemplate!
  createScriptExecution(input: NewScriptExecution!): ScriptExecution!
}

